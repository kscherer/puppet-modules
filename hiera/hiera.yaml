# This hiera config is not actually used on puppet masters. The hiera
# config is managed with puppet in modules/hiera/manifests/init.pp. This
# file is manually kept up to date with config generated by puppet manifest

# To test hiera lookup outside of puppet, use following command line
# hiera --debug --config ./hiera.yaml python::pip ::hiera_datadir=$PWD

# To test array merge lookup for example on Fedora 19 x86_64
# hiera --debug --array --config ./hiera.yaml packages ::hiera_datadir=$PWD ::osfamily=RedHat ::operatingsystem=Fedora ::lsbmajdistrelease=19 ::architecture=x86_64
---
:backends:
  - yaml

:logger: console

:hierarchy:
  - "nodes/%{::hostname}"
  - "%{::location}"
  - "%{::operatingsystem}-%{::lsbmajdistrelease}-%{::architecture}"
  - "%{::operatingsystem}-%{::lsbmajdistrelease}"
  - "%{::osfamily}"
  - "hardware/%{::boardproductname}"
  - common

:yaml:
   :datadir: "%{::hiera_datadir}"
